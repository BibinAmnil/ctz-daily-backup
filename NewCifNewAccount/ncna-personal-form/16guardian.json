{
  "type": "object",
  "hasStep": true,
  "form_title": "guardian_info",
  "submissionHidden": false,
  "isDisabled": false,
  "required": [
    "guardian_first_name",
    "guardian_last_name",
    "guardian_father_name",
    "guardian_grandfather_name",
    "guardian_date_of_birth_ad",
    "guardian_date_of_birth_bs",
    "guardian_dedup_identification",
    "guardian_dedup_id_number",
    "guardian_existing_permanent_address",
    "guardian_related_party_family_account_holder",
    "guardian_related_party_relation_with_account_holder",

    "guardian_hpp",
    "guardian_pep",
    "guardian_adverse_media",
    "guardian_family_pep_declaration",
    "guardian_loan_status",
    "guardian_is_blacklisted",
    "guardian_customer_introduce_by",
    "guardian_met_in_person"
  ],

  "properties": {
    "guardian_has_cif": {
      "type": "boolean",
      "title": "Has CIF Number?",
      "group": "Guardian Information",
      "width": "full",
      "default": true,
      "readOnly": true
    },
    "guardian_cif_data": {
      "type": "string"
    },
    "account_info": {
      "type": "string",
      "width": "full",
      "group": "guardian-account-information",
      "hideTitle": true
    },
    "is_minor_account": {
      "type": "boolean",
      "width": "full",
      "group": "guardian-account-information",
      "default": false,
      "hideTitle": true
    },

    "guardian_first_name": {
      "type": "string",
      "title": "First Name",
      "group": "Customer Information",
      "readOnly": true
    },
    "guardian_middle_name": {
      "type": "string",
      "title": "Middle Name",
      "group": "Customer Information",
      "readOnly": true
    },
    "guardian_last_name": {
      "type": "string",
      "title": "Last Name",
      "group": "Customer Information",
      "connect": "guardian_last_name_not_available",
      "readOnly": true
    },
    "guardian_father_name": {
      "type": "string",
      "title": "Father Name",
      "group": "Customer Information",
      "readOnly": true
    },
    "guardian_grandfather_name": {
      "type": "string",
      "title": "Grandfather Name",
      "group": "Customer Information",
      "readOnly": true
    },

    "guardian_dedup_identification": {
      "type": "string",
      "title": "Identification",
      "group": "Customer Information",
      "default": "CTZN",
      "readOnly": true
    },
    "guardian_dedup_id_number": {
      "type": "string",
      "title": "Identification Number",
      "group": "Customer Information",
      "readOnly": true
    },
    "guardian_date_of_birth_ad": {
      "type": "string",
      "group": "Customer Information",
      "title": "Date of Birth (A.D.)",
      "readOnly": true
    },
    "guardian_date_of_birth_bs": {
      "type": "string",
      "group": "Customer Information",
      "title": "Date of Birth (B.S.)",
      "readOnly": true
    },
    "guardian_existing_permanent_address": {
      "type": "string",
      "title": "Existing Permanent Address",
      "group": "Customer Information",
      "readOnly": true
    },
    "guardian_related_party_family_account_holder": {
      "type": "string",
      "title": "Is s/he family member of account holder?",
      "enum": ["Yes", "No"],
      "group": "Customer Information"
    },
    "guardian_related_party_relation_with_account_holder": {
      "type": "string",
      "title": "Relationship with the Account holder ?",
      "group": "Customer Information"
    },

    "guardian_dedup_check": {
      "type": "string",
      "title": "Preliminary Screening",
      "group": "Customer Information",
      "additionalProperties": true,
      "width": "full"
    },

    "guardian_dedup_module_data": {
      "type": "string",
      "width": "full",
      "group": "Customer Information",
      "additionalProperties": true,
      "columns": [
        { "key": "full_name", "label": "Name" },
        { "key": "cif_number", "label": "Cif Number" },
        { "key": "date_of_birth_ad", "label": "Date of Birth" },
        {
          "key": "identification_number",
          "label": "Citizenship Number"
        }
      ],
      "actions": [
        {
          "label": "Match",
          "icon": "match",
          "tooltip": "Matched Detail",
          "actionKey": "match"
        }
      ]
    },

    "guardian_personal_screening_data": {
      "type": "string",
      "width": "full",
      "group": "",
      "additionalProperties": true,
      "columns": [
        { "key": "name", "label": "Name" },
        { "key": "father_name", "label": "Father Name" },
        { "key": "similarity", "label": "Similarity" }
      ],
      "actions": [
        {
          "label": "View",
          "icon": "view",
          "tooltip": "View Detail",
          "actionKey": "view"
        }
      ]
    },
    "guardian_screening_ref_code": {
      "type": "string",
      "width": "full",
      "title": "Screening",
      "group": ""
    },

    "guardian_hpp": {
      "type": "string",
      "title": "Highly Positioned Person (HPP) ?",
      "group": "Declaration",
      "enum": ["Yes", "No"],
      "default": "No"
    },

    "guardian_pep": {
      "type": "string",
      "title": "Politically Exposed Person (PEP) ?",
      "group": "Declaration",
      "enum": ["Yes", "No"]
    },

    "guardian_family_pep_declaration": {
      "type": "string",
      "title": "Customer declares family member as PEP or as associate PEP ?",
      "group": "Declaration",
      "enum": ["Yes", "No"],
      "width": 10
    },
    "guardian_adverse_media": {
      "type": "string",
      "title": "Adverse Media",
      "group": "Declaration",
      "enum": ["Yes", "No"]
    },

    "guardian_loan_status": {
      "type": "string",
      "title": "Has the customer taken any loan with us in the past ?",
      "group": "statusOfClient",
      "enum": ["Yes", "No"],
      "width": 8
    },
    "guardian_is_blacklisted": {
      "type": "string",
      "title": "Has the customer being blacklisted by us ?",
      "group": "statusOfClient",
      "enum": ["Yes", "No"],
      "width": 8
    },

    "guardian_customer_introduce_by": {
      "type": "string",
      "title": "Introducer Name",
      "group": "statusOfClient",
      "enum": [
        "Bank Staff",
        "Other Account Holder",
        "Walk-in Customer",
        "Local Government Bodies"
      ],
      "width": 8
    },

    "guardian_met_in_person": {
      "type": "string",
      "title": "Has the customer been met in-person (face-to-face) ?",
      "group": "statusOfClient",
      "enum": ["Yes", "No"],
      "width": 8
    },
    "guardian_risk_level": {
      "type": "string",
      "group": "Risk",
      "title": "Risk Level",
      "enum": ["Low Risk", "Medium Risk", "High Risk"],
      "readOnly": true
    },

    "guardian_calculate_risk": {
      "type": "string",
      "title": "Calculate Risk",
      "group": "Risk"
    }
  },

  "dependencies": {
    "guardian_has_cif": {
      "if": {
        "properties": {
          "guardian_has_cif": {
            "const": true
          }
        }
      },
      "then": {
        "properties": {
          "guardian_cif_number": {
            "type": "string",
            "title": "CIF Number",
            "group": "Guardian Information",
            "width": 4
          },
          "guardian_cif_enquiry": {
            "type": "string",
            "title": "Proceed",
            "group": "Guardian Information",
            "width": 4
          }
        },
        "required": ["guardian_cif_number"]
      }
    },
    "guardian_last_name_not_available": {
      "if": {
        "properties": {
          "guardian_last_name_not_available": {
            "const": true
          }
        }
      },
      "then": {
        "properties": {
          "guardian_last_name": {
            "readOnly": true
          }
        }
      },
      "else": {
        "properties": {
          "guardian_last_name": {
            "readOnly": false
          }
        }
      }
    },

    "guardian_customer_introduce_by": {
      "oneOf": [
        {
          "properties": {
            "guardian_customer_introduce_by": {
              "enum": ["Bank Staff"]
            },
            "guardian_employee_id": {
              "type": "string",
              "title": "Bank Staff CIF Number",
              "group": "statusOfClient",
              "width": 8
            }
          },
          "required": ["guardian_employee_id"]
        },
        {
          "properties": {
            "guardian_customer_introduce_by": {
              "enum": ["Other Account Holder"]
            },
            "guardian_introducer_account_number": {
              "type": "string",
              "title": "Introducer Account Number",
              "group": "statusOfClient",
              "pattern": "^[0-9]{14}$",
              "message": "Must be of 14 Digits",
              "width": 8,
              "errorMessage": {
                "pattern": "Must be of 14 Digits"
              }
            }
          },
          "required": ["guardian_introducer_account_number"]
        },
        {
          "properties": {
            "guardian_customer_introduce_by": {
              "enum": ["Walk-in Customer", "Local Government Bodies"]
            }
          },
          "required": []
        }
      ]
    },

    "guardian_hpp": {
      "if": {
        "properties": {
          "guardian_hpp": {
            "enum": ["Yes"]
          }
        }
      },
      "then": {
        "properties": {
          "guardian_hpp_category": {
            "type": "string",
            "title": "HPP Category",
            "group": "Declaration"
          }
        },
        "required": ["guardian_hpp_category"],
        "dependencies": {
          "guardian_hpp_category": {
            "if": {
              "properties": {
                "guardian_hpp_category": {
                  "enum": ["CDHPP", "PDHPP"]
                }
              }
            },
            "then": {
              "properties": {
                "guardian_hpp_sub_category": {
                  "type": "string",
                  "title": "HPP Sub Category",
                  "group": "Declaration"
                }
              },
              "required": ["guardian_hpp_sub_category"]
            }
          }
        }
      }
    },
    "guardian_pep": {
      "if": {
        "properties": {
          "guardian_pep": {
            "enum": ["Yes"]
          }
        }
      },
      "then": {
        "properties": {
          "guardian_pep_category": {
            "type": "string",
            "enum": [
              "Existing PEPs",
              "Former PEPs",
              "High-ranking officials from neighboring or nearby countries",
              "Other foreign PEPs",
              "International PEPs"
            ],
            "title": "Pep Category",
            "group": "Declaration"
          }
        },
        "required": ["guardian_pep_category"]
      }
    },

    "guardian_adverse_media": {
      "if": {
        "properties": {
          "guardian_adverse_media": {
            "enum": ["Yes"]
          }
        }
      },
      "then": {
        "properties": {
          "guardian_adverse_category": {
            "type": "string",
            "enum": [
              "Money Laundering",
              "Terrorist Financing",
              "Financial Fraud",
              "Organized Crime"
            ],
            "title": "Category of Adverse",
            "group": "Declaration"
          }
        },
        "required": ["guardian_adverse_category"]
      }
    }
  }
}
